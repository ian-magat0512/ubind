<!DOCTYPE html>
<html>
<head>
    <title>Test Page</title>
    <link rel="stylesheet" href="/assets/test-embed-shared-styles.css">
    <style>
        header,
        footer {
            background: #ccc;
            padding: 10px 30px;
        }
        div#ubindDemoForm, div#ubindDemoPortal {
            max-width: 90%;
            width: 90%;
            margin: auto;
            padding: 20px 0;
            border: 2px dashed red;
        }      
    </style>
    <script src="/assets/ubind.js"></script>
    <script>
        const defaultTenant = 'freight-insure';
        const defaultProduct = 'freight';

        window.addEventListener("load", (event) => {
            document.getElementById('inputTenantAlias').value = defaultTenant;
            document.getElementById('inputProductAlias').value = defaultProduct;
        });

        function onInsurancePurchaseSucceeded(data) {
            // TODO: navigate to the final success page, e.g.
            console.log(data);
            alert('succeededCallback fired successfully');            
        }

        function abortedCallback(data) {
            console.log(data);
            alert('abortedCallback fired successfully');
        }

        function startEmbed() {
            const tenantAlias = document.getElementById('inputTenantAlias').value 
            const product = document.getElementById('inputProductAlias').value 

            let embedOptions = { 
                seedFormData: {
                    insuredName: "Customer Business Pty Ltd",
                    contactName: "Jane Smith",
                    contactPhone: "0412 345 678",
                    contactEmail: "jane@business.com",
                    customerStreetAddress: "12 Main Street",
                    customerSuburb: "Richmond",
                    customerState: "Victoria",
                    customerCountry: "Australia",
                    customerPostcode: "3000"
                },
                overwriteFormData: {
                    consignmentNumber: "12345678X",
                    pickupCountry: "Australia",
                    pickupState: "Victoria",
                    pickupPostcode: "3000",
                    deliveryCountry: "Australia",
                    deliveryState: "New South Wales",
                    deliveryPostcode: "2102",
                    customerId: "5fe76940-3281-49e3-ab2f-a76d1d173f6c",
                    warrantyAmount: 1000
                }, 
                tenant: tenantAlias,
                product: product,
                environment: "development",
                width: '460px',
                fullWidthBelowPixels: 460,
                minimumHeight: '640px',
                paddingXs: '20px',
                paddingSm: '20px',
                paddingMd: '20px',
                modalZIndex: 20000,
                succeededCallback: onInsurancePurchaseSucceeded,
                abortedCallback: abortedCallback,
            };
            _uBindInjector.loadWebForm(embedOptions);
            /*
            let el = document.getElementById('embed-location');
            _uBindInjector.loadWebFormElement(el, embedOptions);
            */
        }
    </script>    
</head>
<body>
    <header>
        <h3>Test embed with seeded data, using JSON options and javascript</h3>
    </header>
    <div id="content">
        <p>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ac finibus erat. Sed mauris lorem, scelerisque ac posuere a, mattis vitae enim. Integer sed ultricies sapien. Aenean in urna bibendum, eleifend lectus quis, ultricies mauris. Sed vehicula velit a cursus pellentesque. Maecenas ac est id justo consequat sodales. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Praesent dictum turpis nec mauris vehicula congue. Duis non leo nulla. Nam metus risus, tincidunt id sem ac, semper pretium massa. Nam auctor est eget eros ultricies, efficitur rhoncus ipsum molestie. Aenean dui neque, faucibus sed ante non, auctor laoreet quam. Vestibulum quis metus et metus commodo tempor. Pellentesque dapibus et diam volutpat mattis.
        </p>
        </p>
        <p>
            Vivamus lacinia ipsum in maximus iaculis. In sit amet nunc quis risus ornare volutpat. Mauris pretium quam hendrerit volutpat malesuada. Maecenas vel sodales mauris, vitae luctus sapien. Curabitur sem nibh, aliquet a lorem vel, tristique dignissim augue. Fusce faucibus, eros a varius convallis, leo ex luctus nisl, vitae posuere nulla libero quis nisl. Proin pharetra, odio vel facilisis vestibulum, tellus lectus finibus metus, et mollis nibh nulla ac purus. Integer feugiat imperdiet tellus, at rutrum erat. Nunc vestibulum est sit amet elit gravida consequat. Cras vehicula lorem eget erat volutpat sollicitudin quis a diam. Interdum et malesuada fames ac ante ipsum primis in faucibus.
        </p>
        <div id="embedControls">
            <fieldset>
                <label for="inputTenantAlias">Tenant Alias</label>
                <input type="text" id="inputTenantAlias">
            </fieldset>

            <fieldset>
                <label for="inputProductAlias">Product Alias</label>
                <input type="text" id="inputProductAlias">
            </fieldset>

            <button onclick="startEmbed()">Start embed</button>
        </div>
        <p>
            Aliquam elit velit, lobortis nec nunc ut, porttitor dictum felis. Phasellus nec tortor arcu. Vestibulum scelerisque pretium tortor, vitae placerat velit iaculis id. Nulla facilisi. Phasellus ut odio quam. In eu nulla lacinia, pretium nisl vitae, pellentesque nibh. Aenean vel ullamcorper mauris. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nullam dignissim odio in ipsum pharetra, eu tincidunt sapien iaculis. Vestibulum interdum dolor dapibus orci iaculis tempor. Cras tempus, ante vel porttitor scelerisque, nisi nulla molestie quam, eget consectetur massa odio sit amet diam. Aliquam et tortor bibendum, posuere risus in, ultrices nunc. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Phasellus bibendum dui ac libero mollis tristique.
        </p>
        <p>
            Morbi gravida sit amet nisl in placerat. Nunc tristique massa ante, ac ultrices sapien elementum aliquam. Nam eu pellentesque dui, at congue purus. Ut quis tempus nisi. Suspendisse potenti. Sed vulputate elementum justo, a tempus risus. In a vehicula nisl. Nulla non dui pretium velit maximus placerat. Praesent dictum magna sit amet metus sodales fringilla. Integer faucibus accumsan libero id tristique. Curabitur vel diam enim. Etiam hendrerit, urna quis eleifend elementum, nibh diam dictum sem, ut egestas diam libero id dui. Donec urna dui, accumsan non neque at, lobortis malesuada arcu. Etiam lacinia mollis urna, ac accumsan mi egestas vel. Nam aliquam viverra eros, vitae commodo felis scelerisque ac.
        </p>
        <p>
            Nunc cursus nibh justo, ac faucibus metus porta eu. Nunc arcu nulla, ultricies non diam elementum, iaculis efficitur massa. Vivamus bibendum fermentum mauris, vitae tristique enim tincidunt sed. Vivamus ornare metus quis volutpat hendrerit. Nam at velit a libero lobortis semper eu eget nunc. Aenean condimentum sapien et justo mollis, at faucibus mauris varius. Orci varius natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nulla non congue tortor, et vehicula sem. Suspendisse quis vulputate odio. Etiam a finibus arcu. Nullam ut pharetra purus. Donec ipsum metus, hendrerit id iaculis a, mollis varius tortor. In cursus ipsum ante, ac accumsan erat fringilla vel. Curabitur imperdiet eros eu turpis gravida, non viverra orci ullamcorper. Pellentesque semper eleifend sem, vel rutrum metus tristique quis. Integer tempus molestie ipsum vel luctus.
        </p>
        <p>
            Nam est ipsum, elementum non vestibulum vel, rhoncus nec mauris. Cras vel venenatis nulla. Donec quam tortor, ornare sed lectus in, gravida accumsan erat. Nullam varius velit et lorem sollicitudin tristique eu in arcu. Praesent nec nunc tincidunt, luctus dui vitae, placerat enim. Ut sed condimentum purus, ac dignissim tellus. Proin placerat pharetra nunc vel sagittis. Nulla pulvinar turpis quam, id egestas odio blandit in.
        </p>
        <p>
            Etiam dignissim ligula vel metus dignissim dignissim. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; Fusce nec ornare felis. Nunc metus dui, suscipit non lectus in, semper condimentum velit. In vitae quam ut enim dapibus elementum eu at erat. Donec facilisis varius ipsum. Sed elementum mollis tellus, non congue risus rhoncus aliquam. Nullam vel nibh ullamcorper, porta nisi consequat, finibus tortor. Mauris cursus tincidunt eros ut semper. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Aliquam ac dui neque. Phasellus tincidunt enim diam, a placerat dolor mollis et. Sed vestibulum faucibus blandit. Pellentesque porta dolor ac turpis tincidunt vestibulum. Donec risus diam, ullamcorper a feugiat et, faucibus vel massa. Aenean sit amet ligula ac arcu elementum hendrerit.
        </p>
        <p>
            Nullam vestibulum nulla quis est iaculis, eu cursus augue ornare. Nunc sit amet tincidunt nulla, et faucibus quam. Mauris vel elit ex. Aenean a risus ac felis rutrum vestibulum et sit amet risus. Vestibulum euismod velit vitae nisi dapibus, a tempor sem maximus. Vivamus pellentesque porttitor dui ut convallis. Praesent ac enim id lorem vehicula malesuada ut eu tellus.        
        </p>
    </div>
    <footer>
        <label>I am a footer</label>
    </footer>    
</body>
</html>