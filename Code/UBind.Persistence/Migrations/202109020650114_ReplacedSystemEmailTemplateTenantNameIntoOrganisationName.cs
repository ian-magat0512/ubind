// <auto-generated />
#pragma warning disable 1591

namespace UBind.Persistence.Migrations
{
    using System.Data.Entity.Migrations;

    public partial class ReplacedSystemEmailTemplateTenantNameIntoOrganisationName : DbMigration
    {
        public override void Up()
        {
            var updateActivationInvitationBodyQuery = @"
                UPDATE dbo.SystemEmailTemplates
                    SET Data_Subject = REPLACE(Data_Subject, 'Activation Invitation from {{TenantName}}', 'Activation Invitation from {{Organisation.Name}}')
                    WHERE Type = 0;

                UPDATE dbo.SystemEmailTemplates
                    SET Data_Subject = REPLACE(Data_Subject, 'Activation Invitation from {{Tenant.Name}}', 'Activation Invitation from {{Organisation.Name}}')
                    WHERE Type = 0;

                UPDATE dbo.SystemEmailTemplates
                    SET
                        Data_HtmlBody = REPLACE(Data_HtmlBody, 'An account has been created for you on the {{TenantName}} portal.', 'An account has been created for you on the {{Organisation.Name}} portal.'),
                        Data_PlainTextBody = REPLACE(Data_PlainTextBody, 'An account has been created for you on the {{TenantName}} portal.', 'An account has been created for you on the {{Organisation.Name}} portal.')
                    WHERE Type = 0;

                UPDATE dbo.SystemEmailTemplates
                    SET
                        Data_HtmlBody = REPLACE(Data_HtmlBody, 'An account has been created for you on the {{Tenant.Name}} portal.', 'An account has been created for you on the {{Organisation.Name}} portal.'),
                        Data_PlainTextBody = REPLACE(Data_PlainTextBody, 'An account has been created for you on the {{Tenant.Name}} portal.', 'An account has been created for you on the {{Organisation.Name}} portal.')
                    WHERE Type = 0;
            ";

            var updatePasswordResetInvitationBodyQuery = @"
                UPDATE dbo.SystemEmailTemplates
                    SET
                        Data_Subject = REPLACE(Data_Subject, 'Password Reset Invitation from {{Tenant.Name}}', 'Password Reset Invitation from {{Organisation.Name}}')
                    WHERE Type = 1;

                UPDATE dbo.SystemEmailTemplates
                    SET
                        Data_Subject = REPLACE(Data_Subject, 'Password Reset Invitation from {{TenantName}}', 'Password Reset Invitation from {{Organisation.Name}}')
                    WHERE Type = 1;

                UPDATE dbo.SystemEmailTemplates
                    SET
                        Data_HtmlBody = REPLACE(Data_HtmlBody, 'A request has been made to reset the password to your account on the {{TenantName}}.', 'A request has been made to reset the password to your account on the {{Organisation.Name}} portal.'),
                        Data_PlainTextBody = REPLACE(Data_PlainTextBody, 'A request has been made to reset the password to your account on the {{TenantName}}.', 'A request has been made to reset the password to your account on the {{Organisation.Name}} portal.')
                    WHERE Type = 1;

                UPDATE dbo.SystemEmailTemplates
                    SET
                        Data_HtmlBody = REPLACE(Data_HtmlBody, 'A request has been made to reset the password to your account on the {{User.TenantName}}.', 'A request has been made to reset the password to your account on the {{Organisation.Name}} portal.'),
                        Data_PlainTextBody = REPLACE(Data_PlainTextBody, 'A request has been made to reset the password to your account on the {{Tenant.Name}}.', 'A request has been made to reset the password to your account on the {{Organisation.Name}} portal.')
                    WHERE Type = 1;
            ";

            var updateCreatedQuoteBodyQuery = @"
                UPDATE dbo.SystemEmailTemplates
                    SET
                        Data_HtmlBody = REPLACE(Data_HtmlBody, 'A quote was created recently using your email address. If you created this quote and you could like to associate it with your {{ Tenant.Name }} account', 'A quote was created recently using your email address. If you created this quote and you could like to associate it with your {{ Organisation.Name }} account'),
                        Data_PlainTextBody = REPLACE(Data_PlainTextBody, 'A quote was created recently using your email address. If you created this quote and you could like to associate it with your {{ Tenant.Name }}', 'A quote was created recently using your email address. If you created this quote and you could like to associate it with your {{ Organisation.Name }}')
                    WHERE Type = 3;
            ";

            Sql(updateActivationInvitationBodyQuery);
            Sql(updatePasswordResetInvitationBodyQuery);
            Sql(updateCreatedQuoteBodyQuery);
        }

        public override void Down()
        {
        }
    }
}