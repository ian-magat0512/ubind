// <auto-generated />
#pragma warning disable 1591

namespace UBind.Persistence.Migrations
{
    using System;
    using System.Data.Entity.Migrations;
    using UBind.Persistence.Migrations.Extensions;

    public partial class CreateAssetsAndReleasesTablesIndexes : DbMigration
    {
        public override void Up()
        {
            // This should have been removed in 202311200637384_SingleDevRelease.cs, but just in case that migraiton hasn't completely finished:
            this.DropColumnIfExists("dbo.DevReleases", "DevFilesHashString");

            var sql = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "Migrations", "Sql", @"CreateDevReleasesTableIndexes.sql");
            this.Sql(File.ReadAllText(sql));

            sql = Path.Combine(AppDomain.CurrentDomain.BaseDirectory, "Migrations", "Sql", @"CreateAssetsTableIndexes.sql");
            this.Sql(File.ReadAllText(sql));
        }

        public override void Down()
        {
            DropIndex("dbo.Assets", "IX_Assets_ReleaseDetails_Id1");
            DropIndex("dbo.Assets", "IX_Assets_ReleaseDetails_Id");
            DropIndex("dbo.DevReleases", "IX_DevReleases_TenantId_ProductId_Covered");
        }
    }
}
