<div>
    <ng-container>
        <ng-container *ngIf="questionItems">
            <ion-item-group *ngFor="let questionItem of questionItems; last as isLastChild">
                <ion-item *ngIf="questionItem" [class.no-border-bottom]="isLastChild" tabindex="0">
                    <ion-label class="question">{{ questionItem.questionLabel }}</ion-label>
                    <ion-label class="grayed-label multi-line ion-text-end" [class.pointer]="questionItem.isAttachment"
                               [class.link-text]="questionItem.isAttachment" (click)="downloadFile(questionItem)">
                        <ion-icon name='link' *ngIf="questionItem.isAttachment"></ion-icon>
                        {{ questionItem.questionValue }}
                    </ion-label>
                </ion-item>
            </ion-item-group>
        </ng-container>
        
        <div *ngIf="repeatingQuestionItems">
            <div >
                <ion-item-group color="light" *ngFor="let repeatingQuestionItem of repeatingQuestionItems">
                    <ion-item-divider>
                        <ion-label>{{ repeatingQuestionItem.repeatingQuestionItemKey }}</ion-label>
                    </ion-item-divider>
                    <ion-item *ngFor="let repeatingQuestionItemDetail of repeatingQuestionItem.repeatingQuestionItemDetails; last as isLastChild" 
                            [class.no-border-bottom]="isLastChild"  tabindex="0">
                        <ion-label class="question">{{ repeatingQuestionItemDetail.questionLabel }}</ion-label>
                        <ion-label class="grayed-label multi-line ion-text-end" [class.pointer]="repeatingQuestionItemDetail.isAttachment"
                                   [class.link-text]="repeatingQuestionItemDetail.isAttachment" (click)="downloadFile(repeatingQuestionItemDetail)">
                            <ion-icon name='link' *ngIf="repeatingQuestionItemDetail.isAttachment"></ion-icon>
                            {{ repeatingQuestionItemDetail.questionValue }}
                        </ion-label>
                    </ion-item>
                </ion-item-group>
            </div>
        </div>
        <div *ngIf="(questionItems && questionItems.length === 0) && (repeatingQuestionItems && repeatingQuestionItems.length === 0)" 
             class="tab-content content-error" [@contentAnimation]>
            <p class="ion-text-center">No question sets found</p>
        </div>
    </ng-container>
</div>
